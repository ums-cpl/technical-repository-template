# Expect error when no tasks are given (exit non-zero)

EXPECT_FAILURE:
Error: No tasks specified.
Usage: /home/richard/workspaces/task-driven-experimentation/run_tasks.sh [OPTIONS] [KEY=VALUE ...] TASK [TASK ...]

Execute tasks. TASK can be:
  - Task directory: path to dir containing run.sh (e.g. tasks/.../task1)
  - Parent directory: recursively finds all descendant dirs with run.sh
  - Wildcard: expands to matching dirs (e.g. tasks/.../*). Use !(pattern) to exclude (e.g. tasks/.../*/!(data))

  Optional suffix :RUN_SPEC sets run(s). Examples: :local, :run:1:10, :run* (clean only, wildcard).
  Without suffix: uses task's RUN_SPEC (default "assets") for execute; cleans all runs with --clean.
  Quote the task spec if RUN_SPEC contains * or ? (e.g. "tasks/task1:run*").

Options:
  --dry-run              Create manifest without running (no workload manager submit)
  --clean                Remove output folders for specified tasks, do not run
  --job-name=NAME        Set job name for workload manager (default: run_tasks)
  --walltime=TIME        Set walltime for workload manager (e.g. 1:00:00, 5:00:00)
  --workload-manager=SCRIPT  Submit tasks as job array via workload manager script
  --skip-succeeded       Skip task runs that have already succeeded (.run_success exists)
  --skip-verify-def      Skip verification that container .sif matches containers/*.def
  --run-disabled         Run tasks even if TASK_DISABLED is set in task_meta.sh
  --include-deps         Include missing dependency task runs in the invocation instead of failing
  -h, --help             Show this help

Environment overrides (KEY=VALUE) are applied after each sourced file (task_meta.sh, run_env.sh, run_deps.sh), pinning overridden values so every subsequent file sees them.
